{% load static %}

<header class="header">
    <div class="container">
        <img src="{% static 'images/logo.png' %}" alt="NerosInsurge Logo" class="logo-img">
        <a href="{% url 'petitions:home' %}" class="logo">NerosInsurge13</a>
        <nav class="nav">
            <a href="{% url 'petitions:petition_create' %}" class="nav-link button">
                <i class="fas fa-plus"></i> Crea Petizione
            </a>

{% if user.is_authenticated %}
    <div class="profile-dropdown">
        <button class="profile-btn">
            <img src="{% if user.profile_picture %}{{ user.profile_picture.url }}{% else %}{% static 'images/default_profile.png' %}{% endif %}" 
                 alt="Profilo" class="profile-icon" style="width: 35px; height: 35px; border-radius: 50%; object-fit: cover;">
        </button>
        <div class="dropdown-content">
            <a href="{% url 'auth:profile' %}">Profilo</a>
            <a href="{% url 'auth:profile_edit' %}">Modifica Profilo</a>
            <a href="{% url 'petitions:petition_list' %}">Le mie petizioni</a>

            {% if user.is_staff or user.is_superuser %}
                <a href="{% url 'admin:index' %}">Admin Dashboard</a>
            {% endif %}

            <a href="">Impostazioni Account</a>
            <a href="{% url 'auth:password_change' %}">Cambia Password</a>

            <a href="">FAQ</a>
            <a href="">Contattaci</a>

            <form method="post" action="{% url 'auth:logout' %}" style="margin:0;">
                {% csrf_token %}
                <button type="submit" class="logout-button">Esci</button>
            </form>
        </div>
    </div>


            {% else %}
                <a href="{% url 'auth:login' %}" class="nav-link">
                    <i class="fas fa-sign-in-alt"></i> Accedi
                </a>
                <a href="{% url 'auth:register' %}" class="nav-link">
                    <i class="fas fa-user-plus"></i> Registrati
                </a>
            {% endif %}
        </nav>
    </div>
</header>

    </div>
</header>


